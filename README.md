# AWS GitHub Actions Private Runner Terraform Module
Terraform modules for creating autoscaling groups of private GitHub Actions Runners in your AWS account.

## Overview

This repo contains three different Terraform modules, each themed around launching autoscaling groups of GitHub Actions Runners in your own AWS account.

### modules/imagebuilder-terraform-container
Deploys an AWS ImageBuilder pipeline and associated resources to create a docker container that is able to run Terraform commands. This container will be used to execute GitHub Actions jobs in your workflows.

**You don't have to use this module** if you already have your own container image that is able to run Terraform; this is just a barebones container that is minimally functional.

### modules/imagebuilder-github-runner-ami
Deploys an AWS ImageBuilder pipeline and associated resources to create an EC2 AMI that features all of the prerequisites for registering a GitHub Actions runner.

This includes:
  - Base Ubuntu 20.04 (Focal) image
  - Baseline packages required from the OS package repository, e.g. `curl`, `git`, `cron`, etc.
  - SSM Agent
  - CloudWatch Logs Agent
  - The GitHub Actions Runner agent binary, either downloaded from GitHub's own releases page, or from your own S3 cache
  - Pre-cached container images (optional)

Autoscaling EC2 instances will be launched with AMIs built from this pipeline.

### [root module] autoscaling-github-runners
Deploys an autoscaling group of EC2 instances that each register as a self-hosted runner with one or more GitHub projects of your choice. The autoscaling is performed based on a custom CloudWatch metric generated by a Lambda that polls your GitHub project to determine how many jobs are running/pending.

The module also includes:
  |Feature|Purpose|
  |:-|:-|
  |**EC2 Launch Template**|that will deploy instances into the VPC of your choosing|
  |**EC2 Autoscaling Group**|with scaling rules controlled by a schedule and/or an accurate custom metric (both optional)|
  |**EC2 IAM Role & Instance Profile**|to allow access to the AWS APIs required to deploy your application (you can customise this). Also allows SSM Session Manager access for when your runners are in Private Subnets|
  |**EC2 Security Group**|to protect instances launched by the ASG and provide minimal outbound traffic|
  |**CloudWatch Log Groups**|for key OS logs with configuration to stream those logs to CloudWatch from each EC2 instance in the ASG, using the CloudWatch Logs Agent|
  |**CloudWatch Metric Filter & Alarms**|to notify about failed instances|
  |**CloudWatch Dashboard**|to monitor the autoscaling activity and key EC2 metrics (CPU, Memory, IO)|
  |**Secrets Manager Secret**|with a placeholder value, that should be overwritten with a valid Personal Access Token (PAT) for the GitHub project you wish to register with|
  |**Bootstrapping BASH code**|to self-register the instance with a GitHub server, organisation and project of your choosing|
  |**Multi-Registration**|gives you the ability to register a single EC2 instance as multiple independent GitHub Runner agents, so you can run parallel jobs on a single instance. This is good for saving on infrastructure costs|
  |**Lambda Function**|that polls the GitHub API to determine how busy your project is (i.e. how many pending/running jobs) and writes custom CloudWatch Metrics based on the response|
  |**CloudWatch Event Rule**|to run the Lambda function every minute during the working day (as defined by you)|
  |**Scale In Protection**|implemented as a systemd service that calls the AWS API, this prevents a runner from being scaled-in whilst it is busy running a job|
  |**Automatic De-Registration**|when your ASG scales in and instances are destroyed, those destroyed instances automatically de-register themselves from your GitHub project so they will receive no further jobs|



## How to use these modules

### Deploying the runners
1. Start with the **imagebuilder-terraform-container** submodule, but **only if** you don't already have a suitable container for running jobs. Create a file in your terraform project that calls this module with appropriate parameters as outlined below. The result will be an imagebuilder pipeline that creates a docker container for running Terraform commands.

2. The pipeline is set to run on a schedule by default, but you should immediately run the pipeline to generate a baseline container for later use. This will take around 20 minutes to complete.

3. Now onto the **imagebuilder-github-runner-ami** module. You will **always** need this one. Create a file in your terraform project that calls this module with appropriate parameters as outlined below. The result will be an imagebuilder pipeline that creates an EC2 AMI with all of the pre-requisites for running the GitHub Agent.

4. The pipeline is set to run on a schedule by default, but you should immediately run the pipeline to generate an AMI for later use. This will take around 45 minutes to complete.

5. Finally onto the **autoscaling-github-runners** module. This is the module that creates the actual runners, so you will **always** need this one too. Create a file in your terraform project that calls this module with appropriate parameters as outlined below

6. Once fully deployed the ASG will begin deploying EC2 instances (as per your min/max/desired requirements) immediately; however, these instances will **not** connect to GitHub successfully because they don't have a valid access token yet. Navigate to Secrets Manager and find the placeholder secret that has been created for you. Its name will end in the word `pat` (also check the description field to be sure). Overwrite the value of this secret with a valid Personal Access Token from the GitHub project you want to register with.

7. Terminate all running EC2 instances and let them be replaced by the ASG. This time they should successfully register with your GitHub project and be visible in the page `Settings -> Actions --> Runners`

8. In your GitHub Actions Workflow YAML, ensure your jobs feature a `runs-on` section that includes the tag `self-hosted` and the name of the tag you gave your runners in the `ec2_github_runner_tag_list` input variable. This will ensure that your workflow jobs will be deployed to your private self-hosted runners inside your own AWS account.

```yaml

    runs-on:
      - self-hosted
      - example
```

### Refining the runner permissions

By default the runners will only have basic permissions to write their own logs and metrics, pull containers from ECR, and read/write files to a CI/CD artifacts bucket defined by you.

If you want to give your runners greater permissions (and you probably do, because they need to have permission to _do things_ like deploy an application) then you can supply additional IAM Policies in the input variable `ec2_iam_role_extra_policy_attachments`, which is a list of ARNs.

Alternatively, you may prefer to keep the runner permissions light and allow Terraform to assume roles that have sufficient permission to deploy things. In this case simply supply the ARNs of all roles that Terraform should be allowed to assume in the input variable `ec2_terraform_deployment_roles`. Your runner IAM Role will be granted permission to assume these roles on demand.

---

## autoscaling-github-runners Module

### Pre-Requisites
Before deploying this module you must:
* Have a VPC with at least one subnet. The Subnets can be private or public, but they must have access to the Internet via IGW or NAT
* Have deployed the `imagebuilder-github-runner-ami` submodule, so that you can supply the image ARN as an input to this module
* Have a GitHub project, and have generated a Personal Access Token with these permissions as a minimum: *Read Access to Metadata*, *Read and Write Access to Administration*

### Simplest Possible Example
This is a single GitHub Runner that does not autoscale and does not shut down overnight

```terraform
module "autoscaling_github_runners_simple" {
  source = "git::https://github.com/mtonxbjss/terraform-aws-autoscaling-github-runners?ref=v1.0.0"

  ec2_imagebuilder_image_arn                       = module.imagebuilder_github_runner_ami.imagebuilder_image_arn_xxx
  ec2_subnet_ids                                   = module.vpc.private_subnets
  ec2_vpc_id                                       = module.vpc.vpc_id
  iam_roles_with_admin_access_to_created_resources = [local.identifiers.account_admin_role_arn]
  github_organization_url                          = "https://github.com/myorg"
  github_repository_names                          = [ "my-repo-1" ]
  region                                           = var.region
  runner_account_id                                = var.aws_account_id
  state_bucket_name                                = data.terraform_remote_state.bootstrap.outputs.state_bucket_name
  state_bucket_key_arn                             = data.terraform_remote_state.bootstrap.outputs.state_bucket_key
  state_lock_table_arn                             = data.terraform_remote_state.bootstrap.outputs.state_lock_table_arn
  unique_prefix                                    = "${local.prefix}-min"
}
```

### More Complex Example
This is an auto-scaling group of GitHub Runners using multiple runner tags, spot instances and registering with an ECR Registry on boot

```terraform
module "autoscaling_github_runners_mid" {
  source = "git::https://github.com/mtonxbjss/terraform-aws-autoscaling-github-runners?ref=v1.0.0"

  ec2_autoscaling_maximum_instances                = 5
  ec2_dynamic_scaling_enabled                      = true
  ec2_github_runner_tag_list                       = "primary,miscellaneous"
  ec2_imagebuilder_image_arn                       = module.imagebuilder_github_runner_ami.imagebuilder_image_arn_xxx
  ec2_spot_instances_max_price                     = 0.5
  ec2_spot_instances_preferred                     = true
  ec2_subnet_ids                                   = module.vpc.private_subnets
  ec2_vpc_id                                       = module.vpc.vpc_id
  iam_roles_with_admin_access_to_created_resources = [local.identifiers.account_admin_role_arn]
  github_job_image_ecr_account                     = var.aws_account_id
  github_organization_url                          = "https://github.com/myorg"
  github_repository_names                          = ["my-repo-1"]
  region                                           = var.region
  runner_account_id                                = var.aws_account_id
  state_bucket_name                                = data.terraform_remote_state.bootstrap.outputs.state_bucket_name
  state_bucket_key_arn                             = data.terraform_remote_state.bootstrap.outputs.state_bucket_key
  state_lock_table_arn                             = data.terraform_remote_state.bootstrap.outputs.state_lock_table_arn
  unique_prefix                                    = "${local.prefix}-mid"
}

```


### Full Worked Example With Most Parameters Expressed
This is an Auto Scaling Group of GitHub Runners that scales down to a single pilot-light runner overnight
```terraform

module "autoscaling_github_runners" {
  source = "git::https://github.com/mtonxbjss/terraform-aws-autoscaling-github-runners?ref=v1.0.0"

  cicd_artifacts_bucket_name        = aws_s3_bucket.cicd.bucket
  cicd_artifacts_bucket_key_arn     = aws_kms_key.cicd.arn
  ec2_autoscaling_desired_instances = 1
  ec2_autoscaling_maximum_instances = 10
  ec2_autoscaling_minimum_instances = 1
  ec2_dynamic_scaling_enabled       = true
  ec2_github_runner_name            = "general"
  ec2_github_runner_tag_list        = "primary,miscellaneous"

  ec2_iam_role_extra_policy_attachments = [
    aws_iam_policy.deploy_application.arn,
  ]

  ec2_imagebuilder_image_arn          = module.imagebuilder_github_runner_ami.imagebuilder_image_arn_xxx
  ec2_instance_type                   = "t3a.large"
  ec2_maximum_concurrent_github_jobs  = 3
  ec2_nightly_shutdown_enabled        = true
  ec2_nightly_shutdown_scale_in_time  = "0 19 * * *"
  ec2_nightly_shutdown_scale_out_time = "0 8 * * MON-FRI"
  ec2_root_volume_size                = 100
  ec2_runner_role_tag                 = "Demo GitHub Actions jobs"
  ec2_spot_instances_max_price        = 0.5
  ec2_spot_instances_preferred        = true
  ec2_subnet_ids                      = module.vpc.private_subnets

  ec2_terraform_deployment_roles = [
   local.identifiers.app_deployer_role_arn,
  ]

  ec2_vpc_id                   = module.vpc.vpc_id
  github_job_image_ecr_account = var.aws_account_id
  github_organization_url      = "https://github.com/myorg"
  github_repository_names      = ["my-repo-1"]

  iam_roles_with_admin_access_to_created_resources = [
    local.identifiers.app_deployer_role_arn,
    local.identifiers.account_admin_role_arn,
  ]

  iam_roles_with_read_access_to_created_resources = [
    local.identifiers.developer_role_arn
  ]

  permission_boundary_arn = aws_iam_policy.permissions_boundary.arn
  region                  = var.region
  runner_account_id       = var.aws_account_id
  state_bucket_name       = data.terraform_remote_state.bootstrap.outputs.state_bucket_name
  state_bucket_key_arn    = data.terraform_remote_state.bootstrap.outputs.state_bucket_key
  state_lock_table_arn    = data.terraform_remote_state.bootstrap.outputs.state_lock_table_arn
  unique_prefix           = "${local.prefix}-max"
}

```

---

<!-- BEGIN_TF_DOCS -->
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_cicd_artifacts_bucket_key_arn"></a> [cicd\_artifacts\_bucket\_key\_arn](#input\_cicd\_artifacts\_bucket\_key\_arn) | Encryption key ARN for the bucket that stores all CICD artifacts for the pipeline(s). The runner will be granted permission to encrypt/decrypt using this key | `string` | `""` | no |
| <a name="input_cicd_artifacts_bucket_name"></a> [cicd\_artifacts\_bucket\_name](#input\_cicd\_artifacts\_bucket\_name) | Bucket that stores all CICD artifacts for the pipeline(s). The runner will be granted permission to read/write contents of this bucket | `string` | `""` | no |
| <a name="input_cloudwatch_metric_cloud_init_failure_name"></a> [cloudwatch\_metric\_cloud\_init\_failure\_name](#input\_cloudwatch\_metric\_cloud\_init\_failure\_name) | The name to give the metric that tracks Cloud Init failures on GitHub Runner EC2 instances. Defaults to CloudInitFailureCount | `string` | `"CloudInitFailureCount"` | no |
| <a name="input_cloudwatch_metric_github_runner_failure_name"></a> [cloudwatch\_metric\_github\_runner\_failure\_name](#input\_cloudwatch\_metric\_github\_runner\_failure\_name) | The name to give the metric that tracks GitHub Connectivity failures on GitHub Runner EC2 instances. Defaults to GithubRunnerFailureCount | `string` | `"GithubRunnerFailureCount"` | no |
| <a name="input_ec2_ami"></a> [ec2\_ami](#input\_ec2\_ami) | EC2 AMI to use for GitHub Runners. Only has any effect if you do not pass the ec2\_imagebuilder\_image\_arn parameter | `string` | `""` | no |
| <a name="input_ec2_associate_public_ip_address"></a> [ec2\_associate\_public\_ip\_address](#input\_ec2\_associate\_public\_ip\_address) | Should all runner instances have public IP addresses attached (required only if you're deploying into a public subnet) | `bool` | `false` | no |
| <a name="input_ec2_autoscaling_desired_instances"></a> [ec2\_autoscaling\_desired\_instances](#input\_ec2\_autoscaling\_desired\_instances) | Desired number of instances in the autoscaling group of github Runners | `number` | `1` | no |
| <a name="input_ec2_autoscaling_maximum_instances"></a> [ec2\_autoscaling\_maximum\_instances](#input\_ec2\_autoscaling\_maximum\_instances) | Maximum number of instances in the autoscaling group of github Runners | `number` | `1` | no |
| <a name="input_ec2_autoscaling_minimum_instances"></a> [ec2\_autoscaling\_minimum\_instances](#input\_ec2\_autoscaling\_minimum\_instances) | Minimum number of instances in the autoscaling group of github Runners | `number` | `0` | no |
| <a name="input_ec2_dynamic_scaling_enabled"></a> [ec2\_dynamic\_scaling\_enabled](#input\_ec2\_dynamic\_scaling\_enabled) | Controls whether GitHub runners dynamically scale up/down depending on how busy the server is | `bool` | `false` | no |
| <a name="input_ec2_dynamic_scaling_metric_collection_cron_expression"></a> [ec2\_dynamic\_scaling\_metric\_collection\_cron\_expression](#input\_ec2\_dynamic\_scaling\_metric\_collection\_cron\_expression) | Cron expression that dictates how often to run the cron expression that gathers github runner utilisation metrics. Default is every minute between 0700-1959 Monday-Friday UTC (0800-2059 during BST) | `string` | `"0/1 07-19 ? * MON-FRI *"` | no |
| <a name="input_ec2_extra_security_groups"></a> [ec2\_extra\_security\_groups](#input\_ec2\_extra\_security\_groups) | List of additional security group IDs to append to the EC2 instances for running GitHub jobs. Defaults to an empty list. All runners will be allowed unrestricted egress traffic on ports 80, 443 and ICMP as standard | `list(string)` | `[]` | no |
| <a name="input_ec2_github_runner_name"></a> [ec2\_github\_runner\_name](#input\_ec2\_github\_runner\_name) | Name by which the github Server will know this runner | `string` | `"default"` | no |
| <a name="input_ec2_github_runner_tag_list"></a> [ec2\_github\_runner\_tag\_list](#input\_ec2\_github\_runner\_tag\_list) | Comma-delimited list of tags that can be used to target this runner | `string` | `"default"` | no |
| <a name="input_ec2_iam_role_extra_policy_attachments"></a> [ec2\_iam\_role\_extra\_policy\_attachments](#input\_ec2\_iam\_role\_extra\_policy\_attachments) | List of policy ARNs to append to the runner's EC2 Instance Profile. Use this to give your runner permission to deploy things in your accounts. | `list(string)` | `[]` | no |
| <a name="input_ec2_imagebuilder_image_arn"></a> [ec2\_imagebuilder\_image\_arn](#input\_ec2\_imagebuilder\_image\_arn) | ARN of the AWS ImageBuilder image that results from the GitHub AMI creation pipeline. If ec2\_ami is also supplied, this parameter is used as first preference | `string` | `""` | no |
| <a name="input_ec2_instance_type"></a> [ec2\_instance\_type](#input\_ec2\_instance\_type) | Instance type for the temporary EC2 instance that will be created in order to generate the AMI. Defaults to t3a.large | `string` | `"t3a.large"` | no |
| <a name="input_ec2_maximum_concurrent_github_jobs"></a> [ec2\_maximum\_concurrent\_github\_jobs](#input\_ec2\_maximum\_concurrent\_github\_jobs) | How many concurrent jobs the github runner can do | `number` | `2` | no |
| <a name="input_ec2_nightly_shutdown_enabled"></a> [ec2\_nightly\_shutdown\_enabled](#input\_ec2\_nightly\_shutdown\_enabled) | scale in/out the runners on a nightly basis | `bool` | `false` | no |
| <a name="input_ec2_nightly_shutdown_scale_in_time"></a> [ec2\_nightly\_shutdown\_scale\_in\_time](#input\_ec2\_nightly\_shutdown\_scale\_in\_time) | time to scale in | `string` | `"0 20 * * *"` | no |
| <a name="input_ec2_nightly_shutdown_scale_out_time"></a> [ec2\_nightly\_shutdown\_scale\_out\_time](#input\_ec2\_nightly\_shutdown\_scale\_out\_time) | time to scale out | `string` | `"0 6 * * 1-5"` | no |
| <a name="input_ec2_root_volume_size"></a> [ec2\_root\_volume\_size](#input\_ec2\_root\_volume\_size) | Size of root volume for the EC2 instances for running GitHub jobs. Defaults to 100GiB | `number` | `100` | no |
| <a name="input_ec2_runner_role_tag"></a> [ec2\_runner\_role\_tag](#input\_ec2\_runner\_role\_tag) | Adds a new EC2 tag named Role to each runner with this value, to indicate the functional role performed by particular group of runners | `string` | `"general"` | no |
| <a name="input_ec2_spot_instances_max_price"></a> [ec2\_spot\_instances\_max\_price](#input\_ec2\_spot\_instances\_max\_price) | Specifies the maximum spot price to pay for github runners. Only applies if ec2\_spot\_instances\_preferred is true | `string` | `"0.5"` | no |
| <a name="input_ec2_spot_instances_preferred"></a> [ec2\_spot\_instances\_preferred](#input\_ec2\_spot\_instances\_preferred) | Set to true in order to run github runners as spot instances. Defaults to false. | `bool` | `false` | no |
| <a name="input_ec2_subnet_ids"></a> [ec2\_subnet\_ids](#input\_ec2\_subnet\_ids) | List of IDs of the subnets used to host the EC2 instances for running GitHub jobs | `list(string)` | n/a | yes |
| <a name="input_ec2_terraform_deployment_roles"></a> [ec2\_terraform\_deployment\_roles](#input\_ec2\_terraform\_deployment\_roles) | List of deployment role ARNs that can be assumed by the runner in order to execute Terraform commands. The runner will be granted permission to assume these roles. The roles can be in different AWS accounts. This is an alternative to giving the runner permissions directly via policy attachments. | `list(string)` | `[]` | no |
| <a name="input_ec2_vpc_id"></a> [ec2\_vpc\_id](#input\_ec2\_vpc\_id) | ID of the VPC used to host the EC2 instances for running GitHub jobs | `string` | n/a | yes |
| <a name="input_github_job_image_ecr_account"></a> [github\_job\_image\_ecr\_account](#input\_github\_job\_image\_ecr\_account) | Account ID containing the ECR Docker Registry that hosts the images used for GitHub Actions jobs. Used so that the runner can proactively log into that registry. Default is empty (i.e. no docker images required) | `string` | `""` | no |
| <a name="input_github_organization_url"></a> [github\_organization\_url](#input\_github\_organization\_url) | The full https URL of the GitHub Organization or Owner, not including project name | `string` | n/a | yes |
| <a name="input_github_repository_names"></a> [github\_repository\_names](#input\_github\_repository\_names) | A list of names of GitHub Repositories to which these runners should register. They must all be in the same organization or domain | `list(string)` | n/a | yes |
| <a name="input_iam_roles_with_admin_access_to_created_resources"></a> [iam\_roles\_with\_admin\_access\_to\_created\_resources](#input\_iam\_roles\_with\_admin\_access\_to\_created\_resources) | List of IAM Role ARNs that should have admin access to any resources created in this module that have resource policies | `list(string)` | n/a | yes |
| <a name="input_iam_roles_with_read_access_to_created_resources"></a> [iam\_roles\_with\_read\_access\_to\_created\_resources](#input\_iam\_roles\_with\_read\_access\_to\_created\_resources) | List of IAM Role ARNs that should have read access to any resources created in this module that have resource policies | `list(string)` | `[]` | no |
| <a name="input_kms_deletion_window_in_days"></a> [kms\_deletion\_window\_in\_days](#input\_kms\_deletion\_window\_in\_days) | The number of days to retain a KMS key scheduled for deletion. Defaults to 7 | `number` | `7` | no |
| <a name="input_permission_boundary_arn"></a> [permission\_boundary\_arn](#input\_permission\_boundary\_arn) | ARN of the IAM Policy to use as a permission boundary for the EC2 IAM Role created by this module. Defaults to empty (i.e. no permission boundary required) | `string` | `""` | no |
| <a name="input_region"></a> [region](#input\_region) | The AWS region in which to create resources | `string` | n/a | yes |
| <a name="input_resource_tags"></a> [resource\_tags](#input\_resource\_tags) | Map of tags to be applied to all resources. Don't include provider tags in here or it will cause continual re-plans of tagged resources | `map(string)` | `{}` | no |
| <a name="input_runner_account_id"></a> [runner\_account\_id](#input\_runner\_account\_id) | The AWS account ID that should host the GitHub Runners | `string` | n/a | yes |
| <a name="input_state_bucket_key_arn"></a> [state\_bucket\_key\_arn](#input\_state\_bucket\_key\_arn) | Encryption key ARN for the bucket that stores all Terraform State for the pipeline(s). The runner will be granted permission to encrypt/decrypt using this key | `string` | `""` | no |
| <a name="input_state_bucket_name"></a> [state\_bucket\_name](#input\_state\_bucket\_name) | Bucket that stores all Terraform State for the pipeline(s). The runner will be granted permission to read/write contents of this bucket | `string` | `""` | no |
| <a name="input_state_lock_table_arn"></a> [state\_lock\_table\_arn](#input\_state\_lock\_table\_arn) | DynamoDB Table that stores all Terraform State Locks for the pipeline(s). The runner will be granted permission to read/write this table. | `string` | `""` | no |
| <a name="input_unique_prefix"></a> [unique\_prefix](#input\_unique\_prefix) | This unique prefix will be prepended to all resource names to ensure no clashes with other resources in the same account | `string` | n/a | yes |
## Outputs

| Name | Description |
|------|-------------|
| <a name="output_auto_scaling_group_arn"></a> [auto\_scaling\_group\_arn](#output\_auto\_scaling\_group\_arn) | n/a |
| <a name="output_auto_scaling_group_name"></a> [auto\_scaling\_group\_name](#output\_auto\_scaling\_group\_name) | n/a |
| <a name="output_github_pat_secret_arn"></a> [github\_pat\_secret\_arn](#output\_github\_pat\_secret\_arn) | n/a |
| <a name="output_instance_profile_arn"></a> [instance\_profile\_arn](#output\_instance\_profile\_arn) | n/a |
| <a name="output_instance_profile_name"></a> [instance\_profile\_name](#output\_instance\_profile\_name) | n/a |
| <a name="output_instance_role_arn"></a> [instance\_role\_arn](#output\_instance\_role\_arn) | n/a |
| <a name="output_instance_role_id"></a> [instance\_role\_id](#output\_instance\_role\_id) | n/a |
| <a name="output_instance_role_name"></a> [instance\_role\_name](#output\_instance\_role\_name) | n/a |
| <a name="output_launch_template_arn"></a> [launch\_template\_arn](#output\_launch\_template\_arn) | n/a |
| <a name="output_launch_template_id"></a> [launch\_template\_id](#output\_launch\_template\_id) | n/a |
| <a name="output_security_group_arn"></a> [security\_group\_arn](#output\_security\_group\_arn) | n/a |
| <a name="output_security_group_id"></a> [security\_group\_id](#output\_security\_group\_id) | n/a |
| <a name="output_security_group_name"></a> [security\_group\_name](#output\_security\_group\_name) | n/a |
## Providers

| Name | Version |
|------|---------|
| <a name="provider_archive"></a> [archive](#provider\_archive) | n/a |
| <a name="provider_aws"></a> [aws](#provider\_aws) | >=4.31.0 |
| <a name="provider_cloudinit"></a> [cloudinit](#provider\_cloudinit) | >=2.2.0 |
<!-- END_TF_DOCS -->

---

## SubModule Docs

* [imagebuilder-terraform-container](modules/imagebuilder-terraform-container/README.md)
* [imagebuilder-github-runner-ami](modules/imagebuilder-github-runner-ami/README.md)
